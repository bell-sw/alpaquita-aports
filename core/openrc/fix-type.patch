Patch-Source: https://github.com/OpenRC/openrc/pull/624
--
From 9b5be170b7f46a8be8bca80a8fccbab672152fc5 Mon Sep 17 00:00:00 2001
From: Sam James <sam@gentoo.org>
Date: Thu, 20 Apr 2023 05:04:08 +0100
Subject: [PATCH] shared: fix pointer type in UNCONST

Thanks to vapier for noticing.
---
 src/shared/helpers.h | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/src/shared/helpers.h b/src/shared/helpers.h
index 0303937b7..9cf263bef 100644
--- a/src/shared/helpers.h
+++ b/src/shared/helpers.h
@@ -21,6 +21,7 @@
 #include <stdarg.h>
 #include <stdbool.h>
 #include <stddef.h>
+#include <stdint.h>
 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
@@ -28,7 +29,7 @@
 
 #define ERRX fprintf (stderr, "out of memory\n"); exit (1)
 
-#define UNCONST(a)		((void *)(unsigned long)(const void *)(a))
+#define UNCONST(a)		((void *)(uintptr_t)(const void *)(a))
 
 #define RC_UNUSED __attribute__((__unused__))
 #define RC_NORETURN __attribute__((__noreturn__))
