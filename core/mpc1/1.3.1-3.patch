From 3c582150facc14230a157e927d07ff2398ab5f3e Mon Sep 17 00:00:00 2001
From: Paul Zimmermann <Paul.Zimmermann@inria.fr>
Date: Mon, 12 Dec 2022 10:55:05 +0100
Subject: [PATCH] fixed last commit

---
 tests/mpc-tests.h | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/tests/mpc-tests.h b/tests/mpc-tests.h
index 57ac632..c6b5679 100644
--- a/tests/mpc-tests.h
+++ b/tests/mpc-tests.h
@@ -141,6 +141,7 @@ extern int same_mpc_value  (mpc_ptr got, mpc_ptr ref,
                             known_signs_t known_signs);
 
 /** READ FILE WITH TEST DATA SET **/
+#ifndef DONT_INCLUDE_STDIO
 extern FILE * open_data_file         (const char *file_name);
 extern void   close_data_file        (FILE *fp);
 
@@ -155,6 +156,7 @@ extern size_t read_string            (FILE *fp, char **buffer_ptr,
                                       size_t buffer_length, const char *name);
 extern void read_mpfr                (FILE *fp, mpfr_ptr x, int *known_sign);
 extern void read_mpc                 (FILE *fp, mpc_ptr z, known_signs_t *ks);
+#endif
 
 void set_mpfr_flags   (int counter);
 void check_mpfr_flags (int counter);
@@ -287,6 +289,7 @@ typedef struct {
 void        read_description    (mpc_fun_param_t* param, const char *file);
 const char* read_description_findname (mpc_param_t e);
 
+#ifndef DONT_INCLUDE_STDIO
 /* file functions */
 typedef struct {
   char *pathname;
@@ -339,6 +342,7 @@ void    tpl_read_mpc        (mpc_datafile_context_t* datafile_context,
                              mpc_data_t* z);
 void    tpl_read_mpc_rnd    (mpc_datafile_context_t* datafile_context,
                              mpc_rnd_t* rnd);
+#endif
 
 int     tpl_same_mpz_value  (mpz_ptr n1, mpz_ptr n2);
 int     tpl_same_mpfr_value (mpfr_ptr x1, mpfr_ptr x2, int known_sign);
-- 
GitLab

