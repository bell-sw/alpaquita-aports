# Description: openresolv is a resolvconf implementation which manages
# /etc/resolv.conf.

pkgname=openresolv
pkgver=3.13.0
pkgrel=0
pkgdesc="A framework for managing DNS configuration"
url="https://roy.marples.name/projects/openresolv"
arch="noarch"
license="BSD-2-Clause"
subpackages="$pkgname-doc"
source="https://github.com/NetworkConfiguration/openresolv/archive/refs/tags/openresolv-$pkgver.tar.gz
	detect_init-remove-irrelevant.patch
	"
builddir="$srcdir/openresolv-openresolv-$pkgver"

build() {
	# NOTE: Don't set --prefix, it should be /.
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--libexecdir=/lib/resolvconf \
		--mandir=/usr/share/man \
		--rundir=/run \
		--sysconfdir=/etc
	make
}

package() {
	make DESTDIR="$pkgdir" install
}

sha512sums="
4afd8ae3fac9af248478c8b60f4f6845dc29925d789874d6b8515cf16b08de5d51be5f0151e9e8ea9124f0cb2ddbacdf00150500d8b6922a041920b9b1a18a2b  openresolv-3.13.0.tar.gz
4532f62530c8922f91ca9bb78b1fdb8f68801b0a4643af5e1a57faa7b1640e0b453c8603040c2a3315bbf1ee0c4f39c6fe696fde3ec9569d61a0ed086b3afaaa  detect_init-remove-irrelevant.patch
"
