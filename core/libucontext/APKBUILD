# Description: libucontext is a library which provides the ucontext.h C API. 
# Unlike other implementations, it faithfully follows the kernel process ABI
# when doing context swaps.

pkgname=libucontext
pkgver=1.3
pkgrel=0
pkgdesc="ucontext function implementations"
url="https://github.com/kaniini/libucontext"
arch="all"
license="ISC"
subpackages="$pkgname-dev $pkgname-doc"
makedepends="scdoc"
source="https://distfiles.ariadne.space/libucontext/libucontext-$pkgver.tar.xz"

build() {
	make ARCH="$CTARGET_ARCH"
	make ARCH="$CTARGET_ARCH" docs
}

check() {
	make ARCH="$CTARGET_ARCH" check
}

package() {
	make ARCH="$CTARGET_ARCH" DESTDIR="$pkgdir" install install_docs
}

sha512sums="
28795d36a02798c15cadc62235341167fb529bae548fc39150134a1053649d0a7c041b8ed741ce263e8d910009e06b712f0df341d7c6cef665385183b5fc45e0  libucontext-1.3.tar.xz
"
