From cabb10e1519fb0379472c12ec77b09b00a1f13ec Mon Sep 17 00:00:00 2001
From: Thomas Klausner <wiz@gatalith.at>
Date: Sun, 25 Jun 2023 23:34:17 +0200
Subject: [PATCH] Work around Linux's non-POSIX behaviour in getopt(3).

Closes #386.
---
 regress/cancel_45.test  | 2 +-
 regress/cancel_90.test  | 2 +-
 regress/cm-default.test | 2 +-
 regress/progress.test   | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/regress/cancel_45.test b/regress/cancel_45.test
index c6989b58..591c4105 100644
--- a/regress/cancel_45.test
+++ b/regress/cancel_45.test
@@ -1,6 +1,6 @@
 # test default compression stores if smaller; test cancel after 45%
 return 1
-arguments -n test.zip  cancel 45  add compressible aaaaaaaaaaaaaa  add uncompressible uncompressible  add_nul large-compressible 8200  add_file large-uncompressible large-uncompressible 0 -1
+arguments -n -- test.zip  cancel 45  add compressible aaaaaaaaaaaaaa  add uncompressible uncompressible  add_nul large-compressible 8200  add_file large-uncompressible large-uncompressible 0 -1
 file large-uncompressible large-uncompressible
 stdout
 0.0% done
diff --git a/regress/cancel_90.test b/regress/cancel_90.test
index da68ae77..ac34af73 100644
--- a/regress/cancel_90.test
+++ b/regress/cancel_90.test
@@ -1,6 +1,6 @@
 # test default compression stores if smaller; test cancel after 90%
 return 1
-arguments -n test.zip  cancel 90  add compressible aaaaaaaaaaaaaa  add uncompressible uncompressible  add_nul large-compressible 8200  add_file large-uncompressible large-uncompressible 0 -1
+arguments -n -- test.zip  cancel 90  add compressible aaaaaaaaaaaaaa  add uncompressible uncompressible  add_nul large-compressible 8200  add_file large-uncompressible large-uncompressible 0 -1
 file large-uncompressible large-uncompressible
 stdout
 0.0% done
diff --git a/regress/cm-default.test b/regress/cm-default.test
index 0d3665f7..d7baa6e0 100644
--- a/regress/cm-default.test
+++ b/regress/cm-default.test
@@ -1,5 +1,5 @@
 # test default compression stores if smaller
 return 0
-arguments -n test.zip  add compressible aaaaaaaaaaaaaa  add uncompressible uncompressible  add_nul large-compressible 8200  add_file large-uncompressible large-uncompressible 0 -1
+arguments -n -- test.zip  add compressible aaaaaaaaaaaaaa  add uncompressible uncompressible  add_nul large-compressible 8200  add_file large-uncompressible large-uncompressible 0 -1
 file test.zip {} cm-default.zip
 file large-uncompressible large-uncompressible
diff --git a/regress/progress.test b/regress/progress.test
index a8ebefe7..e5c26003 100644
--- a/regress/progress.test
+++ b/regress/progress.test
@@ -1,6 +1,6 @@
 # test default compression stores if smaller; print progress
 return 0
-arguments -n test.zip  print_progress  add compressible aaaaaaaaaaaaaa  add uncompressible uncompressible  add_nul large-compressible 8200  add_file large-uncompressible large-uncompressible 0 -1
+arguments -n -- test.zip  print_progress  add compressible aaaaaaaaaaaaaa  add uncompressible uncompressible  add_nul large-compressible 8200  add_file large-uncompressible large-uncompressible 0 -1
 file test.zip {} cm-default.zip
 file large-uncompressible large-uncompressible
 stdout
-- 
2.41.0

